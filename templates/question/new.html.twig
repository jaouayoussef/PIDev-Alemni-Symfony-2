{% extends 'base-quiz.twig' %}

{% block title %}Nouvelle Question{% endblock %}

{% block body %}
    <div class="container-contact100">
        <div class="wrap-contact100">
            {{ form_start(form,{'attr':{'class':'contact100-form validate-form'}}) }}
				<span class="contact100-form-title">
					Ajouter Question/Response {{nbre +1}}
				</span>

                <div class="wrap-input100 validate-input bg1" data-validate="Please Type Your Name">
                    <span class="label-input100">Question  *</span>
                    {{ form_widget(form.libelle,{'attr':{'class':'input100','type':'text','placeholder':'Enter Your first reponse'}}) }}

                </div>

                <div class="wrap-input100 validate-input bg1" data-validate="Please Type Your Name">
                    <span class="label-input100">Reponse 1 *</span>
                   {{ form_widget(form.reponse1,{'attr':{'class':'input100','type':'text','id':'reponse','onchange':'validate()','placeholder':'Enter Your first reponse'}}) }}
                </div>
                <div class="wrap-input100 validate-input bg1" data-validate="Please Type Your Response">
                    <span class="label-input100">Reponse 2 *</span>
                    {{ form_widget(form.reponse2,{'attr':{'class':'input100','type':'text','onchange':'validate1()','placeholder':'Enter Your second reponse'}}) }}
                </div>
                <div class="wrap-input100 validate-input bg1" data-validate="Please Type Your Response">
                    <span class="label-input100">Reponse 3 *</span>
                    {{ form_widget(form.reponse3,{'attr':{'class':'input100','type':'text','onchange':'validate2()','placeholder':'Enter Your third reponse'}}) }}
                </div>
                <div class="wrap-input100 validate-input bg1" data-validate="Please Type Your Response">
                    <span class="label-input100">Reponse 4 *</span>
                    {{ form_widget(form.reponse4,{'attr':{'class':'input100','type':'text','onchange':'validate3()','placeholder':'Enter Your fourth reponse'}}) }}
                </div>

            <div class="wrap-input100 input100-select bg1">
                <span class="label-input100">Correct reponse *</span>
                <div>

                        {{ form_widget(form.repcorrect,{'attr':{'class':'js-select2'}}) }}

                    <div class="dropDownSelect2"></div>
                </div>
            </div>

                <div class="container-contact100-form-btn">
                    <button class="contact100-form-btn">
						<span>
							Suivant
							<i class="fa fa-long-arrow-right m-l-7" aria-hidden="true"></i>
						</span>
                    </button>
                </div>
            {{ form_end(form) }}
        </div>
    </div>

    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"></script>

    <script>
        function validate() {
            console.log();
            var rep = $('#question_reponse1').val();

            if (rep != null) {

                var rep1 = $('#question_reponse2').val();
                console.log(rep1);
                var rep2 = $('#question_reponse3').val();
                var rep3 =$('#question_reponse4').val();
                if (rep == rep1 || rep == rep2 || rep == rep3) {
                    document.getElementById("question_reponse1").value = null ;
                    Swal.fire({
                        icon: 'error',
                        title: 'Réponse existe déja !',
                        timer: 3000,
                        timerProgressBar: true,
                  });
                }

            }

        }
        function validate1() {
            console.log();
            var rep = $('#question_reponse1').val();
            var rep1 = $('#question_reponse2').val();

            var rep2 = $('#question_reponse3').val();
            var rep3 =$('#question_reponse4').val();
            if (rep1 != null) {


                if (rep == rep1 || rep1 == rep2 || rep1 == rep3) {
                    document.getElementById("question_reponse2").value = null ;
                    Swal.fire({
                        icon: 'error',
                        title: 'Réponse existe déja !',
                        timer: 3000,
                        timerProgressBar: true,
                    });
                }

            }

        }
        function validate2() {
            console.log();
            var rep = $('#question_reponse1').val();
            var rep1 = $('#question_reponse2').val();

            var rep2 = $('#question_reponse3').val();
            var rep3 =$('#question_reponse4').val();
            if (rep2 != null) {


                if (rep == rep2 || rep1 == rep2 || rep2 == rep3) {
                    document.getElementById("question_reponse3").value = null ;
                    Swal.fire({
                        icon: 'error',
                        title: 'Réponse existe déja !',
                        timer: 3000,
                        timerProgressBar: true,
                    });
                }

            }

        }
        function validate3() {
            console.log();
            var rep = $('#question_reponse1').val();
            var rep1 = $('#question_reponse2').val();

            var rep2 = $('#question_reponse3').val();
            var rep3 =$('#question_reponse4').val();
            if (rep3 != null) {


                if (rep == rep3 || rep3 == rep2 || rep1 == rep3) {
                    document.getElementById("question_reponse4").value = null ;
                    Swal.fire({
                        icon: 'error',
                        title: 'Réponse existe déja !',
                        timer: 3000,
                        timerProgressBar: true,
                    });
                }

            }

        }
    </script>
{% endblock %}
